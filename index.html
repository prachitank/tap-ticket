<!DOCTYPE html>
<html>

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- HTML2Canvas library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js">
    </script>
</head>

<body>

    <div style="display: flex; flex-direction: row; justify-content: center;">
        <div class="col-lg-5 col-sm-12 col-md-3">
            <form id='nameForm'>
                <div class='form-uname' style=" padding-bottom: 20px;">
                    <label id='nameLable' for='nameField' style="font-weight: 100;">Student's name:</label>
                    <input id='nameField' type='text' maxlength='20' style="width: 100%;"></input>
                </div>
                <div style="display: flex; flex-direction: column;">
                    <p style="">Select badge type:</p>
                    <h4>Arts</h4>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="art-submission" name="fav_language" value="art-submission" style="cursor: pointer;">
                            Best Submission
                        </label>
                    </div>
                    
                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="art-presentation" name="fav_language" value="art-presentation" style="cursor: pointer;">
                            Best Presentation
                        </label>
                    </div>

                    <h4>Coding</h4>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="coding-submission" name="fav_language" value="coding-submission" style="cursor: pointer;"> 
                            Best Submission
                        </label>
                    </div>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="coding-presentation" name="fav_language" value="coding-presentation" style="cursor: pointer;">
                            Best Presentation
                        </label>
                    </div>

                    <h4>Science</h4>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="science-submission" name="fav_language" value="science-submission" style="cursor: pointer;">
                            Best Submission
                        </label>
                    </div>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="science-presentation" name="fav_language" value="science-presentation">
                            Best Presentation
                        </label>
                    </div>

<!--                     <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="smartbrain" name="fav_language" value="smartbrain">
                            <b>Smart Brain :</b> Best idea shared.
                        </label>
                    </div> 

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="starstudent" name="fav_language" value="starstudent">
                            <b>Star Student :</b> Regular for 2 weeks in submission.
                        </label>
                    </div>

                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="attendancechampion" name="fav_language" value="attendancechampion">
                            <b>Attendance Champion :</b> Regular for 2 weeks in attending tap class.
                        </label>
                    </div>
                
                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="bestnewentry" name="fav_language" value="bestnewentry">
                            <b>Best New Entry :</b> Badge given in the first session of TAP Class only.
                        </label>
                    </div>
                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="cheerfulcheerleader" name="fav_language" value="cheerfulcheerleader">
                            <b>Cheerful Cheerleader :</b> Kid who appreciates & encourages other kids in the group.
                        </label>
                    </div>
                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="presenteroftheweek" name="fav_language" value="presenteroftheweek">
                            <b>Presenter of the week :</b> Kid who presented their work well (through voice note/text/any other form).
                        </label>
                    </div> 
                    <h4>Pre-test</h4>
                    <div>
                        <label style="cursor: pointer; font-weight: 100;">
                            <input type="radio" id="superchallengefinisher" name="fav_language" value="superchallengefinisher">
                            <b>Super Challenge Finisher</b>
                        </label>
                    </div> -->
                </div>
            </form>
            
            <button onclick="myFunction()" style="margin: 10px 0px 20px 0px; width: 100%;">Generate badge</button>
            <div id="canvasWrapper" class="outer" style="position: relative; text-align: center;">
                <a id="downloadLink" download="badge.png" style="visibility: hidden;">Click here to download the badge!</a>
                <p id="helpText" style="visibility: hidden;" >Or right click on the badge to get the option to copy it.</p>
            </div>

            
            <div style="position: relative; opacity: 0.0;">
                <div id="createImg">
                    <p id="cert" style="
                            position: absolute; 
                            width: 100%; 
                            text-align: center; 
                            font-size: 17px; 
                            font-weight: 600;
                            z-index: 1; 
                            padding-top: 267px; 
                            color:white;
                            font-family: 'Century Gothic' , 'Times New Roman', Times, serif;">
                    </p>
                    <div style="display: flex; justify-content: center;">
                        <img id="bg" src="" style="width: 320px; z-index: 0;">
                    </div>
                </div>
            </div>


        </div>
    </div>
</body>
<script>
    function myFunction() {
        if (document.getElementById("art-submission").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/art-submission.JPG";
        } else if (document.getElementById("art-presentation").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/art-presentation.JPG";
        } else if (document.getElementById("coding-submission").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/coding-submission.JPG";
        } else if (document.getElementById("coding-presentation").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/coding-presentation.JPG";
        } else if (document.getElementById("science-submission").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/science-submission.JPG";
        } else if (document.getElementById("science-presentation").checked == true) {
            document.getElementById("bg").src = "https://www.prachitank.com/tap-ticket/science-presentation.jpg";
        } 
        
        document.getElementById("cert").innerHTML = document.getElementById('nameField').value;
        makeCanvas();
    }
    
    function makeCanvas() {
        html2canvas(document.getElementById("createImg"), {
            onrendered: function (canvas) {
                canvas.id = "html2canvas";
                var oldcanvas = document.getElementById("html2canvas");
                if (oldcanvas) oldcanvas.parentNode.removeChild(oldcanvas);
                document.getElementById("canvasWrapper").appendChild(canvas);
                var image = canvas.toDataURL("image/png");
                document.getElementById("downloadLink").href = image;
                document.getElementById("downloadLink").style.visibility = "visible";
                document.getElementById("helpText").style.visibility = "visible";

            },
            useCORS: true
        });
    }
</script>

</html>
